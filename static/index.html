<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>isA MCP Management Portal</title>
    <link rel="stylesheet" href="/static/css/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
</head>
<body>
    <div class="app">
        <!-- Sidebar Navigation -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <a href="#" class="logo">
                    <div class="logo-icon">
                        <i data-lucide="cpu"></i>
                    </div>
                    isA MCP Portal
                </a>
            </div>

            <nav class="sidebar-nav">
                <!-- Overview Section -->
                <div class="nav-section">
                    <div class="nav-title">Overview</div>
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a href="#" class="nav-link active" data-page="dashboard">
                                <i data-lucide="layout-dashboard" class="nav-icon"></i>
                                Dashboard
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-page="analytics">
                                <i data-lucide="trending-up" class="nav-icon"></i>
                                Analytics
                                <span class="nav-badge accent">Live</span>
                            </a>
                        </li>
                    </ul>
                </div>

                <!-- MCP Core Section -->
                <div class="nav-section">
                    <div class="nav-title">MCP Core</div>
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-page="tools">
                                <i data-lucide="wrench" class="nav-icon"></i>
                                Tools
                                <span class="nav-badge" id="tools-count">0</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-page="prompts">
                                <i data-lucide="message-square" class="nav-icon"></i>
                                Prompts
                                <span class="nav-badge" id="prompts-count">0</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-page="resources">
                                <i data-lucide="database" class="nav-icon"></i>
                                Resources
                                <span class="nav-badge" id="resources-count">0</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-page="playground">
                                <i data-lucide="play-circle" class="nav-icon"></i>
                                Playground
                            </a>
                        </li>
                    </ul>
                </div>

                <!-- Management Section -->
                <div class="nav-section">
                    <div class="nav-title">Management</div>
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-page="monitoring">
                                <i data-lucide="activity" class="nav-icon"></i>
                                Monitoring
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-page="logs">
                                <i data-lucide="file-text" class="nav-icon"></i>
                                Logs
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-page="configuration">
                                <i data-lucide="settings" class="nav-icon"></i>
                                Configuration
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main">
            <!-- Top Bar -->
            <div class="topbar">
                <div class="topbar-left">
                    <div class="breadcrumb">
                        <span class="breadcrumb-item" id="current-page">Dashboard</span>
                    </div>
                </div>
                <div class="topbar-right">
                    <div class="search-box">
                        <i data-lucide="search" class="search-icon"></i>
                        <input type="text" placeholder="Search tools, prompts, resources..." class="search-input" id="global-search">
                    </div>
                    <button class="btn btn-ghost btn-icon" id="theme-toggle" title="Toggle theme">
                        <i data-lucide="sun"></i>
                    </button>
                    <button class="btn btn-ghost btn-icon" title="Notifications">
                        <i data-lucide="bell"></i>
                    </button>
                    <button class="btn btn-primary" id="refresh-all">
                        <i data-lucide="refresh-cw"></i>
                        Refresh System
                    </button>
                </div>
            </div>

            <!-- Page Content -->
            <div class="page-content">
                <!-- Dashboard Page -->
                <div class="page" id="dashboard-page">
                    <div class="page-header">
                        <h1 class="page-title">MCP Dashboard</h1>
                        <p class="page-description">
                            Monitor your MCP server, track tool usage, and manage system resources from a unified interface.
                        </p>
                    </div>

                    <!-- Stats Cards -->
                    <div class="grid grid-4" id="stats-grid">
                        <!-- Stats will be populated by JavaScript -->
                    </div>

                    <!-- Main Content Grid -->
                    <div class="grid grid-2" style="margin-top: var(--space-8);">
                        <!-- Tool Usage Chart -->
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">Tool Usage</h3>
                                <p class="card-description">Last 7 days</p>
                            </div>
                            <div class="card-content">
                                <canvas id="usage-chart" style="height: 200px;"></canvas>
                            </div>
                        </div>

                        <!-- Recent Activity -->
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">Recent Activity</h3>
                                <p class="card-description">Latest MCP operations</p>
                            </div>
                            <div class="card-content">
                                <div id="activity-list">
                                    <!-- Activity items will be populated by JavaScript -->
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- System Performance -->
                    <div class="card" style="margin-top: var(--space-6);">
                        <div class="card-header">
                            <h3 class="card-title">System Performance</h3>
                            <p class="card-description">MCP server metrics and tool response times</p>
                        </div>
                        <div class="card-content">
                            <div class="table-container">
                                <table class="table" id="performance-table">
                                    <thead>
                                        <tr>
                                            <th>Component</th>
                                            <th>Type</th>
                                            <th>Avg Response Time</th>
                                            <th>Success Rate</th>
                                            <th>Calls (24h)</th>
                                            <th>Status</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <!-- Performance data will be populated by JavaScript -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tools Page -->
                <div class="page hidden" id="tools-page">
                    <div class="page-header">
                        <h1 class="page-title">MCP Tools</h1>
                        <p class="page-description">
                            Browse and manage your MCP tools across different categories and functionality types.
                        </p>
                        <div class="page-actions">
                            <button class="btn btn-secondary">
                                <i data-lucide="filter"></i>
                                Filter
                            </button>
                            <button class="btn btn-primary" id="discover-tools">
                                <i data-lucide="search"></i>
                                Discover Tools
                            </button>
                        </div>
                    </div>

                    <!-- Tool Filters -->
                    <div class="tool-filters" style="margin-bottom: var(--space-6);">
                        <button class="btn btn-ghost active" data-filter="all">All Tools</button>
                        <button class="btn btn-ghost" data-filter="web">Web</button>
                        <button class="btn btn-ghost" data-filter="data">Data</button>
                        <button class="btn btn-ghost" data-filter="analytics">Analytics</button>
                        <button class="btn btn-ghost" data-filter="memory">Memory</button>
                        <button class="btn btn-ghost" data-filter="utility">Utility</button>
                    </div>

                    <!-- Tools Grid -->
                    <div class="grid grid-3" id="tools-grid">
                        <!-- Tool cards will be populated by JavaScript -->
                    </div>
                </div>

                <!-- Prompts Page -->
                <div class="page hidden" id="prompts-page">
                    <div class="page-header">
                        <h1 class="page-title">MCP Prompts</h1>
                        <p class="page-description">
                            Manage system and user prompts for various MCP operations and AI interactions.
                        </p>
                        <div class="page-actions">
                            <button class="btn btn-secondary">
                                <i data-lucide="filter"></i>
                                Filter
                            </button>
                            <button class="btn btn-primary" id="create-prompt">
                                <i data-lucide="plus"></i>
                                Create Prompt
                            </button>
                        </div>
                    </div>

                    <!-- Prompt Categories -->
                    <div class="prompt-filters" style="margin-bottom: var(--space-6);">
                        <button class="btn btn-ghost active" data-filter="all">All Prompts</button>
                        <button class="btn btn-ghost" data-filter="system">System</button>
                        <button class="btn btn-ghost" data-filter="rag">RAG</button>
                        <button class="btn btn-ghost" data-filter="autonomous">Autonomous</button>
                        <button class="btn btn-ghost" data-filter="shopify">Shopify</button>
                        <button class="btn btn-ghost" data-filter="user">User</button>
                    </div>

                    <!-- Prompts Grid -->
                    <div class="grid grid-2" id="prompts-grid">
                        <!-- Prompt cards will be populated by JavaScript -->
                    </div>
                </div>

                <!-- Resources Page -->
                <div class="page hidden" id="resources-page">
                    <div class="page-header">
                        <h1 class="page-title">MCP Resources</h1>
                        <p class="page-description">
                            Monitor and manage MCP resources including databases, memory, and external services.
                        </p>
                    </div>

                    <!-- Resources Grid -->
                    <div class="grid grid-3" id="resources-grid">
                        <!-- Resource cards will be populated by JavaScript -->
                    </div>
                </div>

                <!-- Playground Page -->
                <div class="page hidden" id="playground-page">
                    <div class="page-header">
                        <h1 class="page-title">MCP Playground</h1>
                        <p class="page-description">
                            Test and experiment with MCP tools and prompts in real-time.
                        </p>
                    </div>

                    <div class="grid grid-2">
                        <!-- Input Panel -->
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">Tool Testing</h3>
                            </div>
                            <div class="card-content">
                                <form id="playground-form">
                                    <div style="margin-bottom: var(--space-4);">
                                        <label style="display: block; margin-bottom: var(--space-2); font-weight: 500;">Tool</label>
                                        <select class="search-input" id="tool-select">
                                            <option value="">Select a tool</option>
                                        </select>
                                    </div>

                                    <div style="margin-bottom: var(--space-4);">
                                        <label style="display: block; margin-bottom: var(--space-2); font-weight: 500;">Arguments (JSON)</label>
                                        <textarea class="search-input" id="tool-args" rows="6" placeholder='{"key": "value"}'></textarea>
                                    </div>

                                    <button type="submit" class="btn btn-primary" style="width: 100%;">
                                        <i data-lucide="play"></i>
                                        Execute Tool
                                    </button>
                                </form>
                            </div>
                        </div>

                        <!-- Output Panel -->
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">Output</h3>
                                <button class="btn btn-ghost btn-sm" id="copy-output">
                                    <i data-lucide="copy"></i>
                                    Copy
                                </button>
                            </div>
                            <div class="card-content">
                                <div id="output-area" style="min-height: 300px; padding: var(--space-4); background: var(--muted); border-radius: var(--radius); font-family: var(--font-mono); font-size: 13px; white-space: pre-wrap;">
                                    Output will appear here...
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Logs Page -->
                <div class="page hidden" id="logs-page">
                    <div class="page-header">
                        <h1 class="page-title">System Logs</h1>
                        <p class="page-description">
                            Monitor MCP server activity, tool calls, and system events in real-time.
                        </p>
                        <div class="page-actions">
                            <button class="btn btn-secondary" id="refresh-logs">
                                <i data-lucide="refresh-cw"></i>
                                Refresh
                            </button>
                            <button class="btn btn-secondary" id="clear-logs">
                                <i data-lucide="trash-2"></i>
                                Clear Logs
                            </button>
                            <button class="btn btn-primary" id="export-logs">
                                <i data-lucide="download"></i>
                                Export Logs
                            </button>
                        </div>
                    </div>

                    <!-- Log Filters -->
                    <div class="card" style="margin-bottom: var(--space-6);">
                        <div class="card-header">
                            <h3 class="card-title">Filters</h3>
                        </div>
                        <div class="card-content">
                            <div class="grid grid-4">
                                <!-- Log Level Filter -->
                                <div>
                                    <label style="display: block; margin-bottom: var(--space-2); font-weight: 500;">Log Level</label>
                                    <select class="search-input" id="log-level-filter">
                                        <option value="">All Levels</option>
                                        <option value="DEBUG">Debug</option>
                                        <option value="INFO">Info</option>
                                        <option value="WARNING">Warning</option>
                                        <option value="ERROR">Error</option>
                                        <option value="CRITICAL">Critical</option>
                                    </select>
                                </div>

                                <!-- Component Filter -->
                                <div>
                                    <label style="display: block; margin-bottom: var(--space-2); font-weight: 500;">Component</label>
                                    <select class="search-input" id="component-filter">
                                        <option value="">All Components</option>
                                        <option value="tools">Tools</option>
                                        <option value="prompts">Prompts</option>
                                        <option value="resources">Resources</option>
                                        <option value="server">Server</option>
                                        <option value="discovery">Discovery</option>
                                    </select>
                                </div>

                                <!-- Time Range Filter -->
                                <div>
                                    <label style="display: block; margin-bottom: var(--space-2); font-weight: 500;">Time Range</label>
                                    <select class="search-input" id="time-range-filter">
                                        <option value="1h">Last Hour</option>
                                        <option value="6h">Last 6 Hours</option>
                                        <option value="24h" selected>Last 24 Hours</option>
                                        <option value="7d">Last 7 Days</option>
                                    </select>
                                </div>

                                <!-- Search -->
                                <div>
                                    <label style="display: block; margin-bottom: var(--space-2); font-weight: 500;">Search</label>
                                    <input type="text" class="search-input" id="log-search" placeholder="Search logs...">
                                </div>
                            </div>

                            <!-- Quick Filter Buttons -->
                            <div style="margin-top: var(--space-4); display: flex; gap: var(--space-2); flex-wrap: wrap;">
                                <button class="btn btn-ghost btn-sm log-quick-filter active" data-filter="all">
                                    All Logs
                                </button>
                                <button class="btn btn-ghost btn-sm log-quick-filter" data-filter="errors">
                                    <i data-lucide="alert-circle" style="width: 14px; height: 14px;"></i>
                                    Errors Only
                                </button>
                                <button class="btn btn-ghost btn-sm log-quick-filter" data-filter="tools">
                                    <i data-lucide="wrench" style="width: 14px; height: 14px;"></i>
                                    Tool Calls
                                </button>
                                <button class="btn btn-ghost btn-sm log-quick-filter" data-filter="discovery">
                                    <i data-lucide="search" style="width: 14px; height: 14px;"></i>
                                    Discovery
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Log Statistics -->
                    <div class="grid grid-4" style="margin-bottom: var(--space-6);" id="log-stats">
                        <!-- Log stats will be populated by JavaScript -->
                    </div>

                    <!-- Log Display -->
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Log Stream</h3>
                            <div style="display: flex; gap: var(--space-2);">
                                <span class="status-indicator success" id="connection-status">
                                    <span class="status-dot"></span>
                                    Connected
                                </span>
                            </div>
                        </div>
                        <div class="card-content" style="padding: 0;">
                            <div class="log-container" id="log-container">
                                <div class="log-stream" id="log-stream">
                                    <!-- Log entries will be populated by JavaScript -->
                                </div>
                                <div class="log-loading" id="log-loading">
                                    <div class="loading">
                                        <div class="spinner"></div>
                                        Loading logs...
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Monitoring Page -->
                <div class="page hidden" id="monitoring-page">
                    <div class="page-header">
                        <h1 class="page-title">System Monitoring</h1>
                        <p class="page-description">
                            Real-time MCP server health, performance metrics, and resource usage.
                        </p>
                    </div>

                    <!-- System Health Cards -->
                    <div class="grid grid-3" id="health-grid">
                        <!-- Health cards will be populated by JavaScript -->
                    </div>

                    <!-- Real-time Metrics -->
                    <div class="card" style="margin-top: var(--space-6);">
                        <div class="card-header">
                            <h3 class="card-title">Real-time Metrics</h3>
                            <p class="card-description">Live MCP server performance data</p>
                        </div>
                        <div class="card-content">
                            <canvas id="realtime-chart" style="height: 300px;"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Configuration Page -->
                <div class="page hidden" id="configuration-page">
                    <div class="page-header">
                        <h1 class="page-title">Configuration</h1>
                        <p class="page-description">
                            Configure your MCP server settings and manage system preferences.
                        </p>
                    </div>

                    <div class="grid grid-2">
                        <!-- General Settings -->
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">General</h3>
                            </div>
                            <div class="card-content">
                                <div style="margin-bottom: var(--space-4);">
                                    <label style="display: block; margin-bottom: var(--space-2); font-weight: 500;">Server Name</label>
                                    <input type="text" class="search-input" value="Smart MCP Server">
                                </div>
                                <div style="margin-bottom: var(--space-4);">
                                    <label style="display: block; margin-bottom: var(--space-2); font-weight: 500;">Log Level</label>
                                    <select class="search-input">
                                        <option value="DEBUG">Debug</option>
                                        <option value="INFO" selected>Info</option>
                                        <option value="WARNING">Warning</option>
                                        <option value="ERROR">Error</option>
                                    </select>
                                </div>
                                <button class="btn btn-primary">Save Changes</button>
                            </div>
                        </div>

                        <!-- Discovery Settings -->
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">Auto-Discovery</h3>
                            </div>
                            <div class="card-content">
                                <div style="margin-bottom: var(--space-4);">
                                    <label style="display: flex; align-items: center; gap: var(--space-2);">
                                        <input type="checkbox" checked>
                                        Enable automatic tool discovery
                                    </label>
                                </div>
                                <div style="margin-bottom: var(--space-4);">
                                    <label style="display: flex; align-items: center; gap: var(--space-2);">
                                        <input type="checkbox" checked>
                                        Enable automatic prompt discovery
                                    </label>
                                </div>
                                <div style="margin-bottom: var(--space-4);">
                                    <label style="display: flex; align-items: center; gap: var(--space-2);">
                                        <input type="checkbox" checked>
                                        Enable automatic resource discovery
                                    </label>
                                </div>
                                <button class="btn btn-secondary" style="margin-top: var(--space-4);">
                                    <i data-lucide="search"></i>
                                    Run Discovery Now
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="/static/js/app.js"></script>
    <script>
        // Initialize Lucide icons
        lucide.createIcons();
    </script>
</body>
</html>