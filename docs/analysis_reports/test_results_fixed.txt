WARNING:root:Flask not available. Web API serving will be disabled.
WARNING:UserIntegrationService:No auth token provided - User Service calls may fail with 403
ERROR:tools.services.data_analytics_service.processors.data_processors.model.time_series_processor:Error detecting seasonality: unhashable type: 'dict'
ERROR:tools.services.user_service.services.prediction.user_behavior_analytics.sub_services.temporal_pattern_analyzer:ML cyclical pattern detection failed: object dict can't be used in 'await' expression
WARNING:tools.services.user_service.services.prediction.user_behavior_analytics.sub_services.user_pattern_analyzer:User user_001 not found
ERROR:tools.services.user_service.services.prediction.user_behavior_analytics.sub_services.user_needs_predictor:ML context analysis failed: 'NoneType' object has no attribute 'generate_reasoning'
ERROR:tools.services.user_service.services.prediction.user_behavior_analytics.sub_services.user_needs_predictor:ML task prediction failed: name 'CSVProcessor' is not defined
ERROR:tools.services.user_service.services.prediction.user_behavior_analytics.sub_services.user_needs_predictor:ML tool prediction failed: 'NoneType' object has no attribute 'get_available_analysis_tools'
ERROR:tools.services.user_service.services.prediction.user_behavior_analytics.sub_services.user_needs_predictor:ML context needs prediction failed: name 'CSVProcessor' is not defined
ERROR:tools.services.user_service.services.prediction.user_behavior_analytics.sub_services.user_needs_predictor:ML resource prediction failed: name 'CSVProcessor' is not defined
ERROR:tools.services.user_service.services.prediction.prediction_orchestrator_service:Error in analyze_context_patterns: ContextIntelligenceService.analyze_context_patterns() takes from 2 to 3 positional arguments but 4 were given
WARNING:tools.services.user_service.services.prediction.prediction_orchestrator_service:Marked suite2_context_intelligence as unhealthy
ERROR:tools.services.user_service.services.prediction.context_intelligence.sub_services.task_outcome_predictor:ML task info extraction failed: object dict can't be used in 'await' expression
ERROR:tools.services.user_service.services.prediction.context_intelligence.sub_services.task_outcome_predictor:ML user capability assessment failed: name 'CSVProcessor' is not defined
ERROR:tools.services.user_service.services.prediction.context_intelligence.sub_services.task_outcome_predictor:ML risk factor identification failed: object dict can't be used in 'await' expression
ERROR:tools.services.user_service.services.prediction.context_intelligence.sub_services.task_outcome_predictor:ML success probability calculation failed: name 'CSVProcessor' is not defined
ERROR:tools.services.user_service.services.prediction.context_intelligence.sub_services.task_outcome_predictor:ML optimization generation failed: object dict can't be used in 'await' expression
ERROR:tools.services.user_service.services.prediction.context_intelligence.sub_services.task_outcome_predictor:Error predicting task outcomes for user user_001: 'description'
ERROR:tools.services.user_service.services.prediction.context_intelligence.context_intelligence_service:Error predicting task outcomes for user user_001: 'description'
ERROR:tools.services.user_service.repositories.base:Failed to get user by id: user_001: {'message': 'invalid input syntax for type integer: "user_001"', 'code': '22P02', 'hint': None, 'details': None}
ERROR:tools.services.user_service.repositories.user_repository:Error getting user by id user_001: Failed to get user by id: user_001: {'message': 'invalid input syntax for type integer: "user_001"', 'code': '22P02', 'hint': None, 'details': None}
ERROR:tools.services.user_service.services.prediction.prediction_orchestrator_service:Error generating comprehensive prediction profile: PredictionOrchestratorService.predict_resource_needs() takes 3 positional arguments but 4 were given
ERROR:tools.services.data_analytics_service.processors.data_processors.model.time_series_processor:Error detecting seasonality: unhashable type: 'dict'
ERROR:tools.services.user_service.services.prediction.user_behavior_analytics.sub_services.temporal_pattern_analyzer:ML cyclical pattern detection failed: object dict can't be used in 'await' expression
üöÄ Starting PredictionOrchestratorService Testing
   Time: 2025-08-31 20:13:52.849693
‚úì Orchestrator initialized successfully

============================================================
  Suite 1: User Behavior Analytics (3 MCP Tools)
============================================================

üîß MCP Tool 1: analyze_temporal_patterns
   Type: TemporalPattern
   prediction_id: cc8b800a-e055-4c8c-8abb-677bb58858f2
   user_id: user_001
   prediction_type: PredictionType.TEMPORAL_PATTERNS
   confidence: 0.52
   confidence_level: PredictionConfidenceLevel.MEDIUM
   created_at: datetime
   expires_at: NoneType
   metadata: dict
   time_periods: dict
   peak_hours: [3 items]
   session_frequency: dict
   cyclical_patterns: dict
   data_period: 30d
   sample_size: 0

üîß MCP Tool 2: analyze_user_patterns
   Type: UserBehaviorPattern
   prediction_id: 3133b655-913c-49f5-aca9-623e9e0956a9
   user_id: user_001
   prediction_type: PredictionType.USER_PATTERNS
   confidence: 0.15
   confidence_level: PredictionConfidenceLevel.LOW
   created_at: datetime
   expires_at: NoneType
   metadata: dict
   task_preferences: [0 items]
   tool_preferences: [0 items]
   interaction_style: dict
   success_patterns: dict
   failure_patterns: [0 items]
   context_preferences: dict
   session_patterns: dict

üîß MCP Tool 3: predict_user_needs
   Type: UserNeedsPrediction
   prediction_id: ab4bb140-fbd8-4a65-9c4b-2b8286589b2b
   user_id: user_001
   prediction_type: PredictionType.USER_NEEDS
   confidence: 0.55
   confidence_level: PredictionConfidenceLevel.MEDIUM
   created_at: datetime
   expires_at: NoneType
   metadata: dict
   anticipated_tasks: [3 items]
   required_tools: [3 items]
   context_needs: dict
   resource_requirements: dict
   based_on_patterns: [1 items]
   similar_sessions: [0 items]
   trigger_indicators: [0 items]

============================================================
  Suite 2: Context Intelligence (2 MCP Tools)
============================================================
‚ùå MCP Tool 4 failed: ContextIntelligenceService.analyze_context_patterns() takes from 2 to 3 positional arguments but 4 were given

üîß MCP Tool 5: predict_task_outcomes
   Type: TaskOutcomePrediction
   prediction_id: 6abcdda4-4c59-4ffc-9268-7a282241bb01
   user_id: user_001
   prediction_type: PredictionType.TASK_OUTCOMES
   confidence: 0.1
   confidence_level: PredictionConfidenceLevel.LOW
   created_at: datetime
   expires_at: NoneType
   metadata: dict
   task_description: {'task_type': 'machine_learning', 'estimated_duration': '2h', 'complexity': 'medium', 'required_resources': ['GPU', 'large_dataset']}
   success_probability: 0.5
   risk_factors: [1 items]
   optimization_suggestions: [1 items]
   similar_past_tasks: [0 items]
   resource_conflicts: [0 items]
   timing_considerations: dict

============================================================
  Suite 3: Resource Intelligence (2 MCP Tools)
============================================================

üîß MCP Tool 6: analyze_system_patterns
   Type: SystemPattern
   prediction_id: 21d681cd-7c65-49d0-867a-70ba81baea8c
   user_id: user_001
   prediction_type: PredictionType.SYSTEM_PATTERNS
   confidence: 0.255
   confidence_level: PredictionConfidenceLevel.LOW
   created_at: datetime
   expires_at: NoneType
   metadata: dict
   resource_usage: dict
   performance_metrics: dict
   bottlenecks: [0 items]
   peak_usage_times: dict
   failure_patterns: [0 items]
   optimization_opportunities: [0 items]

üîß MCP Tool 7: predict_resource_needs
   Type: ResourceNeedsPrediction
   prediction_id: 739ed934-4d76-44f4-906f-64832fd7e631
   user_id: user_001
   prediction_type: PredictionType.RESOURCE_NEEDS
   confidence: 0.3316666666666667
   confidence_level: PredictionConfidenceLevel.LOW
   created_at: datetime
   expires_at: NoneType
   metadata: dict
   estimated_cpu: 1.0
   estimated_memory: 2.0
   estimated_duration: 2592000
   cost_estimate: 0.0
   high_cpu_usage_predicted: True
   memory_intensive_predicted: False
   io_intensive_predicted: False
   optimization_options: [0 items]
   resource_alternatives: dict

============================================================
  Suite 4: Risk Management (1 MCP Tool)
============================================================

üîß MCP Tool 8: predict_compliance_risks
   Type: ComplianceRiskPrediction
   prediction_id: 480d81a0-29d7-4dda-bc03-520c37189455
   user_id: user_001
   prediction_type: PredictionType.COMPLIANCE_RISKS
   confidence: 0.29000000000000004
   confidence_level: PredictionConfidenceLevel.LOW
   created_at: datetime
   expires_at: NoneType
   metadata: dict
   risk_level: medium
   policy_conflicts: [0 items]
   access_violations: [0 items]
   regulatory_concerns: [0 items]
   mitigation_strategies: [0 items]
   requires_approval: False
   approval_workflow: NoneType
   resource_permissions: dict
   organization_policies: [0 items]

============================================================
  Comprehensive Prediction Features
============================================================

üîß Comprehensive Prediction Profile
   Type: PredictionResponse
   request_id: 0aade55b-3e81-4ddc-bca7-7e16071b91b2
   user_id: user_001
   predictions: [0 predictions]
   overall_confidence: 0.1
   processing_time_ms: 0
   created_at: datetime
   data_sources_used: [0 items]
   analysis_summary: {
      "error": "PredictionOrchestratorService.predict_resource_needs() takes 3 positional arguments but 4 were given"
}

üîß Service Health Check
   Type: PredictionServiceHealth
   service_status: healthy
   suite_statuses: dict
   last_update: datetime
   data_freshness: dict
   performance_metrics: dict

============================================================
  Data Analysis Quality Assessment
============================================================

üîç Data Analysis Quality Indicators:
   ‚úì Confidence scoring: 0.48000000000000004
   ‚ùå Missing structured predictions
   ‚ùå Missing data source tracking
   ‚ùå Missing performance metrics

üß† AI Capabilities Assessment:
   DataAnalytics Service: True
   Service Health Tracking: 4 suites

============================================================
  Test Summary
============================================================
‚úÖ All 8 MCP tools tested
‚úÖ Comprehensive features tested
‚úÖ Data analysis quality assessed
