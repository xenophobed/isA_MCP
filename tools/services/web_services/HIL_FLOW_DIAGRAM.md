# HIL Flow Diagram - Web Automation

## æ ¸å¿ƒæµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    User Request (via Agent)                      â”‚
â”‚              "å¸®æˆ‘ç™»å½• Gmail" / "å®Œæˆæ”¯ä»˜"                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Agent è°ƒç”¨ web_automation                      â”‚
â”‚   web_automation(url, task, user_id)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              WebAutomationService.execute_task()                â”‚
â”‚                                                                  â”‚
â”‚   Step 1: æˆªå›¾ (Screenshot)                                     â”‚
â”‚   Step 2: HIL æ£€æµ‹ (_check_hil_required)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚  éœ€è¦ HIL?         â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚            â”‚            â”‚
               NO           YES          â”‚
                â”‚            â”‚            â”‚
                â–¼            â–¼            â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
    â”‚ ç»§ç»­ 5 æ­¥æµç¨‹  â”‚  â”‚ HIL æ£€æµ‹    â”‚   â”‚
    â”‚ (æ­£å¸¸è‡ªåŠ¨åŒ–)   â”‚  â”‚            â”‚   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜   â”‚
                             â”‚            â”‚
                             â–¼            â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
                    â”‚  Vision Model  â”‚   â”‚
                    â”‚  åˆ†ææˆªå›¾ç±»å‹   â”‚   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
                             â”‚            â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
                    â”‚ intervention_type â”‚ â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
                             â”‚            â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                    â”‚                      â”‚
        â–¼                    â–¼                      â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Login   â”‚        â”‚ Payment  â”‚          â”‚ CAPTCHA  â”‚
  â”‚  Wallet  â”‚        â”‚          â”‚          â”‚Verify    â”‚
  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
       â”‚                   â”‚                      â”‚
       â–¼                   â–¼                      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚ æŸ¥è¯¢ Vault    â”‚    â”‚ æŸ¥è¯¢ Vault    â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
       â”‚                   â”‚                      â”‚
  â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”                â”‚
  â”‚æœ‰å‡­è¯?  â”‚         â”‚æœ‰å‡­è¯?  â”‚                â”‚
  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                â”‚
       â”‚                   â”‚                      â”‚
  â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”               â”‚
 YES         NO      YES         NO              â”‚
  â”‚           â”‚        â”‚           â”‚              â”‚
  â–¼           â–¼        â–¼           â–¼              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚request_ â”‚ â”‚ask_    â”‚â”‚request_ â”‚â”‚ask_    â”‚  â”‚ask_    â”‚
â”‚authori  â”‚ â”‚human   â”‚â”‚authori  â”‚â”‚human   â”‚  â”‚human   â”‚
â”‚zation   â”‚ â”‚        â”‚â”‚zation   â”‚â”‚        â”‚  â”‚        â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
     â”‚          â”‚           â”‚          â”‚           â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     è¿”å› HIL å“åº”ç»™ Agent                        â”‚
â”‚  {                                                               â”‚
â”‚    "action": "request_authorization" | "ask_human",             â”‚
â”‚    "status": "authorization_required" | "credential_required",  â”‚
â”‚    "message": "...",                                            â”‚
â”‚    "data": {...}                                                â”‚
â”‚  }                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Agent å¤„ç† HIL                              â”‚
â”‚                                                                  â”‚
â”‚  if action == "request_authorization":                          â”‚
â”‚      è¯¢é—®ç”¨æˆ·: "æ˜¯å¦ä½¿ç”¨ Vault ä¸­çš„å‡­è¯ï¼Ÿ"                       â”‚
â”‚      ç”¨æˆ·åŒæ„ â†’ ä» Vault è·å– â†’ é‡æ–°è°ƒç”¨ web_automation          â”‚
â”‚                                                                  â”‚
â”‚  if action == "ask_human":                                      â”‚
â”‚      æç¤ºç”¨æˆ·: "éœ€è¦æ‰‹åŠ¨æ“ä½œï¼š[è¯¦æƒ…]"                            â”‚
â”‚      ç­‰å¾…å®Œæˆ â†’ é‡æ–°è°ƒç”¨ web_automation                          â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚  ä»»åŠ¡å®Œæˆ        â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ä¸¤ç§ HIL åŠ¨ä½œå¯¹æ¯”

### 1. request_authorizationï¼ˆè¯·æ±‚æˆæƒï¼‰

```
åœºæ™¯: Vault ä¸­å·²æœ‰å‡­è¯
ç›®çš„: è¯·æ±‚ç”¨æˆ·æˆæƒä½¿ç”¨

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Tool Response                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  {                                               â”‚
â”‚    "action": "request_authorization",            â”‚
â”‚    "status": "authorization_required",           â”‚
â”‚    "message": "Found stored credentials...",     â”‚
â”‚    "data": {                                     â”‚
â”‚      "credential_preview": {                     â”‚
â”‚        "vault_id": "vault_xxx",                  â”‚
â”‚        "provider": "google"                      â”‚
â”‚      }                                            â”‚
â”‚    }                                             â”‚
â”‚  }                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Agent â†’ User                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  "æˆ‘å‘ç° Vault ä¸­æœ‰ Google å‡­è¯                  â”‚
â”‚   (vault_xxx)ã€‚æ˜¯å¦æˆæƒä½¿ç”¨ï¼Ÿ"                   â”‚
â”‚                                                  â”‚
â”‚   [æ˜¯] [å¦]                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
              â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
              â”‚           â”‚
             æ˜¯          å¦
              â”‚           â”‚
              â–¼           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ä» Vault è·å–  â”‚  â”‚åœæ­¢ä»»åŠ¡   â”‚
    â”‚å®Œæ•´å‡­è¯      â”‚  â”‚          â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚é‡æ–°è°ƒç”¨      â”‚
    â”‚web_automationâ”‚
    â”‚(å¸¦å‡­è¯)      â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ä»»åŠ¡ç»§ç»­æ‰§è¡Œ   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. ask_humanï¼ˆè¯·æ±‚äººå·¥æ“ä½œï¼‰

```
åœºæ™¯: Vault æ— å‡­è¯ æˆ– é‡åˆ° CAPTCHA
ç›®çš„: è¯·æ±‚ç”¨æˆ·æ‰‹åŠ¨æ“ä½œ

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Tool Response                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  {                                               â”‚
â”‚    "action": "ask_human",                        â”‚
â”‚    "status": "credential_required" |             â”‚
â”‚              "human_required",                   â”‚
â”‚    "message": "CAPTCHA detected..." |            â”‚
â”‚              "No credentials found...",          â”‚
â”‚    "data": {                                     â”‚
â”‚      "intervention_type": "captcha" | "login",   â”‚
â”‚      "instructions": "Please...",                â”‚
â”‚      "oauth_url": "https://..."  (if login)      â”‚
â”‚    }                                             â”‚
â”‚  }                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Agent â†’ User                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  CAPTCHA åœºæ™¯:                                   â”‚
â”‚  "é‡åˆ° CAPTCHAï¼Œè¯·æ‰‹åŠ¨è§£å†³"                      â”‚
â”‚  [æ˜¾ç¤ºæˆªå›¾]                                      â”‚
â”‚                                                  â”‚
â”‚  Login åœºæ™¯:                                     â”‚
â”‚  "éœ€è¦ç™»å½•ï¼Œä½† Vault æ— å‡­è¯ã€‚è¯·ï¼š                â”‚
â”‚   1. ç‚¹å‡» OAuth æˆæƒ                             â”‚
â”‚   2. æ‰‹åŠ¨è¾“å…¥è´¦å·å¯†ç "                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  User å®Œæˆæ“ä½œ              â”‚
    â”‚  (CAPTCHA / ç™»å½• / è¿æ¥é’±åŒ…) â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Agent è¯¢é—®                 â”‚
    â”‚  "æ˜¯å¦ä¿å­˜å‡­è¯åˆ° Vaultï¼Ÿ"   â”‚
    â”‚  (å¦‚é€‚ç”¨)                   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
            â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
            â”‚         â”‚
           æ˜¯        å¦
            â”‚         â”‚
            â–¼         â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
    â”‚ä¿å­˜åˆ°     â”‚     â”‚
    â”‚Vault     â”‚     â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜     â”‚
         â”‚           â”‚
         â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚é‡æ–°è°ƒç”¨        â”‚
    â”‚web_automation  â”‚
    â”‚ç»§ç»­ä»»åŠ¡        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ä»»åŠ¡å®Œæˆ        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## å†³ç­–æ ‘

```
å¼€å§‹
  â”‚
  â–¼
æ£€æµ‹é¡µé¢ç±»å‹
  â”‚
  â”œâ”€â–º Login? â”€â”€â”
  â”‚            â”‚
  â”œâ”€â–º Payment? â”‚
  â”‚            â”œâ”€â–º æŸ¥è¯¢ Vault
  â”œâ”€â–º Wallet? â”€â”˜     â”‚
  â”‚                  â”‚
  â”œâ”€â–º CAPTCHA? â”€â”€â”€â”€â”€â”€â”¼â”€â”€â–º ask_human (æ— æ³•è‡ªåŠ¨åŒ–)
  â”‚                  â”‚
  â””â”€â–º Normal â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â–º ç»§ç»­æ­£å¸¸æµç¨‹
                     â”‚
                â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
                â”‚         â”‚
           æœ‰å‡­è¯?      æ— å‡­è¯?
                â”‚         â”‚
                â–¼         â–¼
      request_authorization  ask_human
      (è¯·æ±‚æˆæƒä½¿ç”¨)         (è¯·æ±‚æä¾›)
```

## åœºæ™¯çŸ©é˜µ

| åœºæ™¯ç±»å‹ | Vision æ£€æµ‹ | Vault æŸ¥è¯¢ | æœ‰å‡­è¯åŠ¨ä½œ | æ— å‡­è¯åŠ¨ä½œ |
|---------|-----------|-----------|-----------|-----------|
| **Google Login** | âœ… Login | âœ… | request_authorization | ask_human |
| **Facebook Login** | âœ… Login | âœ… | request_authorization | ask_human |
| **MetaMask Wallet** | âœ… Wallet | âœ… | request_authorization | ask_human |
| **Stripe Payment** | âœ… Payment | âœ… | request_authorization | ask_human |
| **CAPTCHA** | âœ… CAPTCHA | âŒ | - | ask_human |
| **Age Verify** | âœ… Verification | âŒ | - | ask_human |
| **Cookie Consent** | âœ… Verification | âŒ | - | ask_human |

## æ•°æ®æµ

```
User Input
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Agent   â”‚â”€â”€â”€â”€â”€â”€â”
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚ web_automation(url, task, user_id)
                  â”‚
                  â–¼
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚ Web Service â”‚
           â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚         â”‚         â”‚
        â–¼         â–¼         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚Visionâ”‚ â”‚Vault â”‚ â”‚Browser â”‚
    â”‚Model â”‚ â”‚Check â”‚ â”‚Actions â”‚
    â””â”€â”€â”€â”¬â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
        â”‚        â”‚         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ HIL Response  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚    Agent     â”‚
         â”‚  (å¤„ç† HIL)  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                 â”‚
        â–¼                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚request_auth  â”‚  â”‚  ask_human   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                 â”‚
       â–¼                 â–¼
   è¯¢é—®ç”¨æˆ·          æç¤ºç”¨æˆ·æ“ä½œ
       â”‚                 â”‚
       â–¼                 â–¼
   è·å–å‡­è¯          ç­‰å¾…å®Œæˆ
       â”‚                 â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
        é‡æ–°è°ƒç”¨ web_automation
                â”‚
                â–¼
            ä»»åŠ¡å®Œæˆ
```

## æ—¶åºå›¾

```
User      Agent      Tool      Vision    Vault
  â”‚         â”‚         â”‚          â”‚         â”‚
  â”‚ "ç™»å½•Gmail"       â”‚          â”‚         â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚         â”‚          â”‚         â”‚
  â”‚         â”‚ web_automation     â”‚         â”‚
  â”‚         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚          â”‚         â”‚
  â”‚         â”‚         â”‚ æˆªå›¾      â”‚         â”‚
  â”‚         â”‚         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚         â”‚
  â”‚         â”‚         â”‚ æ£€æµ‹Login â”‚         â”‚
  â”‚         â”‚         â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”‚
  â”‚         â”‚         â”‚ æŸ¥è¯¢å‡­è¯   â”‚         â”‚
  â”‚         â”‚         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
  â”‚         â”‚         â”‚ æœ‰å‡­è¯     â”‚         â”‚
  â”‚         â”‚         â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚         â”‚         â”‚                    â”‚
  â”‚         â”‚ HIL: request_authorization   â”‚
  â”‚         â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”¤                    â”‚
  â”‚         â”‚                              â”‚
  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”¤ "æ˜¯å¦ä½¿ç”¨ Vault å‡­è¯ï¼Ÿ"       â”‚
  â”‚         â”‚                              â”‚
  â”‚ "æ˜¯çš„"   â”‚                              â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                              â”‚
  â”‚         â”‚ è·å–å‡­è¯                       â”‚
  â”‚         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
  â”‚         â”‚ å‡­è¯æ•°æ®                       â”‚
  â”‚         â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚         â”‚                              â”‚
  â”‚         â”‚ web_automation(with_creds)   â”‚
  â”‚         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                    â”‚
  â”‚         â”‚         â”‚ æ‰§è¡Œç™»å½•            â”‚
  â”‚         â”‚         â”‚                    â”‚
  â”‚         â”‚ Success â”‚                    â”‚
  â”‚         â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”¤                    â”‚
  â”‚         â”‚                              â”‚
  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”¤ "ç™»å½•æˆåŠŸ"                    â”‚
  â”‚         â”‚                              â”‚
```

## é”™è¯¯å¤„ç†æµç¨‹

```
HIL å“åº”
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Agent å¤„ç† HIL   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
    â”‚         â”‚
   æˆåŠŸ      å¤±è´¥
    â”‚         â”‚
    â–¼         â–¼
ç»§ç»­ä»»åŠ¡   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚ é”™è¯¯ç±»å‹ï¼Ÿ  â”‚
          â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                 â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚           â”‚           â”‚
     â–¼           â–¼           â–¼
 ç”¨æˆ·æ‹’ç»     Vaulté”™è¯¯    è¶…æ—¶
     â”‚           â”‚           â”‚
     â–¼           â–¼           â–¼
 åœæ­¢ä»»åŠ¡     é™çº§å¤„ç†     é‡è¯•
             (ask_human)     â”‚
                 â”‚           â”‚
                 â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
                  é€šçŸ¥ç”¨æˆ·
```

---

**å›¾è¡¨è¯´æ˜ï¼š**
- ğŸ“ æ‰€æœ‰æµç¨‹å›¾å±•ç¤ºå®Œæ•´çš„ HIL å·¥ä½œæµ
- ğŸ¯ å†³ç­–æ ‘å±•ç¤ºä¸åŒåœºæ™¯çš„å¤„ç†è·¯å¾„
- ğŸ“Š çŸ©é˜µè¡¨å±•ç¤ºåœºæ™¯ä¸åŠ¨ä½œçš„æ˜ å°„å…³ç³»
- ğŸ”„ æ—¶åºå›¾å±•ç¤ºç»„ä»¶é—´çš„äº¤äº’é¡ºåº
- âš ï¸ é”™è¯¯å¤„ç†æµç¨‹å±•ç¤ºå¼‚å¸¸æƒ…å†µçš„å¤„ç†
