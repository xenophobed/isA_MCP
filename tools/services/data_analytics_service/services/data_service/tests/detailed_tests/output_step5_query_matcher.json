{
  "total_queries_tested": 6,
  "ai_service_available": true,
  "embedding_service_database": "customers_test_db",
  "semantic_metadata_summary": {
    "business_entities_count": 1,
    "semantic_tags_count": 13,
    "domain_classification": {
      "primary_domain": "crm",
      "domain_scores": {
        "crm": "0.9",
        "ecommerce": "0.6",
        "marketing": "0.5",
        "finance": "0.3"
      },
      "confidence": 0.9,
      "reasoning": "The text references a 'customers_sample' table with key business columns like 'Customer Id' and 'Subscription Date', and an entity type 'customer_entity', which strongly indicates customer relationship management (CRM) context. There is some relevance to ecommerce and marketing due to customer and subscription data, but CRM is the most directly related category.",
      "source": "ai_classification",
      "secondary_domains": []
    }
  },
  "query_results": [
    {
      "query": "Show me all customers from New York",
      "matching_duration": 4.703230207996967,
      "context": {
        "entities_mentioned": [
          "customers",
          "customer"
        ],
        "attributes_mentioned": [],
        "operations": [
          "select"
        ],
        "filters": [],
        "aggregations": [],
        "temporal_references": [],
        "business_intent": "lookup",
        "confidence_score": 0.5666666666666667
      },
      "metadata_matches_count": 10,
      "metadata_matches": [
        {
          "entity_name": "customers_sample",
          "entity_type": "table",
          "match_type": "exact",
          "similarity_score": 0.8,
          "relevant_attributes": []
        },
        {
          "entity_name": "customers_sample",
          "entity_type": "entity",
          "match_type": "exact",
          "similarity_score": 0.8,
          "relevant_attributes": [
            "Index",
            "Customer Id",
            "First Name",
            "Last Name",
            "Company"
          ]
        },
        {
          "entity_name": "customers_sample.Customer Id",
          "entity_type": "semantic_tags",
          "match_type": "semantic",
          "similarity_score": 0.5406324008978132,
          "relevant_attributes": []
        },
        {
          "entity_name": "customers_sample",
          "entity_type": "semantic_tags",
          "match_type": "semantic",
          "similarity_score": 0.5371145071919092,
          "relevant_attributes": []
        },
        {
          "entity_name": "data_constraints",
          "entity_type": "business_rule",
          "match_type": "semantic",
          "similarity_score": 0.5155329902367611,
          "relevant_attributes": []
        }
      ],
      "query_plan": {
        "primary_tables": [
          "customers_sample",
          "customers_sample"
        ],
        "required_joins": [],
        "select_columns": [
          "Index",
          "Customer Id",
          "First Name",
          "Last Name",
          "Company"
        ],
        "where_conditions": [],
        "aggregations": [],
        "order_by": [],
        "confidence_score": 0.8581014446813954,
        "alternative_plans_count": 2
      },
      "suggestions": []
    },
    {
      "query": "Find customers with gmail email addresses",
      "matching_duration": 6.475250041999971,
      "context": {
        "entities_mentioned": [
          "customers",
          "customer",
          "addresses"
        ],
        "attributes_mentioned": [
          "address",
          "email"
        ],
        "operations": [
          "select",
          "filter"
        ],
        "filters": [],
        "aggregations": [],
        "temporal_references": [],
        "business_intent": "lookup",
        "confidence_score": 0.8133333333333332
      },
      "metadata_matches_count": 10,
      "metadata_matches": [
        {
          "entity_name": "customers_sample",
          "entity_type": "table",
          "match_type": "exact",
          "similarity_score": 0.8,
          "relevant_attributes": []
        },
        {
          "entity_name": "customers_sample",
          "entity_type": "entity",
          "match_type": "exact",
          "similarity_score": 0.8,
          "relevant_attributes": [
            "Index",
            "Customer Id",
            "First Name",
            "Last Name",
            "Company"
          ]
        },
        {
          "entity_name": "customers_sample",
          "entity_type": "semantic_tags",
          "match_type": "semantic",
          "similarity_score": 0.7769742145261265,
          "relevant_attributes": []
        },
        {
          "entity_name": "relationship_patterns",
          "entity_type": "data_pattern",
          "match_type": "semantic",
          "similarity_score": 0.7641150329069876,
          "relevant_attributes": []
        },
        {
          "entity_name": "customers_sample.Website",
          "entity_type": "semantic_tags",
          "match_type": "semantic",
          "similarity_score": 0.7633857036209227,
          "relevant_attributes": []
        }
      ],
      "query_plan": {
        "primary_tables": [
          "customers_sample",
          "customers_sample"
        ],
        "required_joins": [],
        "select_columns": [
          "Index",
          "Customer Id",
          "First Name",
          "Last Name",
          "Company"
        ],
        "where_conditions": [],
        "aggregations": [],
        "order_by": [],
        "confidence_score": 0.8987633720244239,
        "alternative_plans_count": 2
      },
      "suggestions": []
    },
    {
      "query": "List companies and their customer counts",
      "matching_duration": 6.12015104200691,
      "context": {
        "entities_mentioned": [
          "companies",
          "counts",
          "customer"
        ],
        "attributes_mentioned": [
          "count"
        ],
        "operations": [
          "select",
          "aggregate"
        ],
        "filters": [],
        "aggregations": [],
        "temporal_references": [],
        "business_intent": "general",
        "confidence_score": 0.7733333333333333
      },
      "metadata_matches_count": 10,
      "metadata_matches": [
        {
          "entity_name": "customers_sample",
          "entity_type": "table",
          "match_type": "exact",
          "similarity_score": 0.8,
          "relevant_attributes": []
        },
        {
          "entity_name": "customers_sample",
          "entity_type": "entity",
          "match_type": "exact",
          "similarity_score": 0.8,
          "relevant_attributes": [
            "Index",
            "Customer Id",
            "First Name",
            "Last Name",
            "Company"
          ]
        },
        {
          "entity_name": "customers_sample",
          "entity_type": "semantic_tags",
          "match_type": "semantic",
          "similarity_score": 0.5178152989660738,
          "relevant_attributes": []
        },
        {
          "entity_name": "customers_sample.Customer Id",
          "entity_type": "semantic_tags",
          "match_type": "semantic",
          "similarity_score": 0.511664557682519,
          "relevant_attributes": []
        },
        {
          "entity_name": "data_constraints",
          "entity_type": "business_rule",
          "match_type": "semantic",
          "similarity_score": 0.4996828190894908,
          "relevant_attributes": []
        }
      ],
      "query_plan": {
        "primary_tables": [
          "customers_sample",
          "customers_sample"
        ],
        "required_joins": [],
        "select_columns": [
          "Index",
          "Customer Id",
          "First Name",
          "Last Name",
          "Company"
        ],
        "where_conditions": [],
        "aggregations": [],
        "order_by": [],
        "confidence_score": 0.854250580388616,
        "alternative_plans_count": 2
      },
      "suggestions": []
    },
    {
      "query": "Get customer contact information",
      "matching_duration": 3.0964164170000004,
      "context": {
        "entities_mentioned": [
          "customer"
        ],
        "attributes_mentioned": [],
        "operations": [
          "select"
        ],
        "filters": [],
        "aggregations": [],
        "temporal_references": [],
        "business_intent": "lookup",
        "confidence_score": 0.4666666666666666
      },
      "metadata_matches_count": 10,
      "metadata_matches": [
        {
          "entity_name": "customers_sample",
          "entity_type": "table",
          "match_type": "exact",
          "similarity_score": 0.8,
          "relevant_attributes": []
        },
        {
          "entity_name": "customers_sample",
          "entity_type": "entity",
          "match_type": "exact",
          "similarity_score": 0.8,
          "relevant_attributes": [
            "Index",
            "Customer Id",
            "First Name",
            "Last Name",
            "Company"
          ]
        },
        {
          "entity_name": "customers_sample",
          "entity_type": "semantic_tags",
          "match_type": "semantic",
          "similarity_score": 0.517789173090256,
          "relevant_attributes": []
        },
        {
          "entity_name": "customers_sample.Customer Id",
          "entity_type": "semantic_tags",
          "match_type": "semantic",
          "similarity_score": 0.5116429650955353,
          "relevant_attributes": []
        },
        {
          "entity_name": "data_constraints",
          "entity_type": "business_rule",
          "match_type": "semantic",
          "similarity_score": 0.4996828190894908,
          "relevant_attributes": []
        }
      ],
      "query_plan": {
        "primary_tables": [
          "customers_sample",
          "customers_sample"
        ],
        "required_joins": [],
        "select_columns": [
          "Index",
          "Customer Id",
          "First Name",
          "Last Name",
          "Company"
        ],
        "where_conditions": [],
        "aggregations": [],
        "order_by": [],
        "confidence_score": 0.855896512909627,
        "alternative_plans_count": 2
      },
      "suggestions": []
    },
    {
      "query": "Show me the first 10 customers",
      "matching_duration": 4.097088208000059,
      "context": {
        "entities_mentioned": [
          "customers",
          "customer"
        ],
        "attributes_mentioned": [],
        "operations": [
          "select"
        ],
        "filters": [],
        "aggregations": [],
        "temporal_references": [],
        "business_intent": "lookup",
        "confidence_score": 0.5666666666666667
      },
      "metadata_matches_count": 10,
      "metadata_matches": [
        {
          "entity_name": "customers_sample",
          "entity_type": "table",
          "match_type": "exact",
          "similarity_score": 0.8,
          "relevant_attributes": []
        },
        {
          "entity_name": "customers_sample",
          "entity_type": "entity",
          "match_type": "exact",
          "similarity_score": 0.8,
          "relevant_attributes": [
            "Index",
            "Customer Id",
            "First Name",
            "Last Name",
            "Company"
          ]
        },
        {
          "entity_name": "customers_sample.Customer Id",
          "entity_type": "semantic_tags",
          "match_type": "semantic",
          "similarity_score": 0.5405839810266104,
          "relevant_attributes": []
        },
        {
          "entity_name": "customers_sample",
          "entity_type": "semantic_tags",
          "match_type": "semantic",
          "similarity_score": 0.5370629487657874,
          "relevant_attributes": []
        },
        {
          "entity_name": "data_constraints",
          "entity_type": "business_rule",
          "match_type": "semantic",
          "similarity_score": 0.5155329902367611,
          "relevant_attributes": []
        }
      ],
      "query_plan": {
        "primary_tables": [
          "customers_sample",
          "customers_sample"
        ],
        "required_joins": [],
        "select_columns": [
          "Index",
          "Customer Id",
          "First Name",
          "Last Name",
          "Company"
        ],
        "where_conditions": [],
        "aggregations": [],
        "order_by": [],
        "confidence_score": 0.8582707683020376,
        "alternative_plans_count": 2
      },
      "suggestions": []
    },
    {
      "query": "Find all customers in California",
      "matching_duration": 3.822712749999482,
      "context": {
        "entities_mentioned": [
          "customers",
          "customer"
        ],
        "attributes_mentioned": [],
        "operations": [
          "select"
        ],
        "filters": [],
        "aggregations": [],
        "temporal_references": [],
        "business_intent": "lookup",
        "confidence_score": 0.5666666666666667
      },
      "metadata_matches_count": 10,
      "metadata_matches": [
        {
          "entity_name": "customers_sample",
          "entity_type": "table",
          "match_type": "exact",
          "similarity_score": 0.8,
          "relevant_attributes": []
        },
        {
          "entity_name": "customers_sample",
          "entity_type": "entity",
          "match_type": "exact",
          "similarity_score": 0.8,
          "relevant_attributes": [
            "Index",
            "Customer Id",
            "First Name",
            "Last Name",
            "Company"
          ]
        },
        {
          "entity_name": "customers_sample.Customer Id",
          "entity_type": "semantic_tags",
          "match_type": "semantic",
          "similarity_score": 0.5406076435541832,
          "relevant_attributes": []
        },
        {
          "entity_name": "customers_sample",
          "entity_type": "semantic_tags",
          "match_type": "semantic",
          "similarity_score": 0.5370629487657874,
          "relevant_attributes": []
        },
        {
          "entity_name": "data_constraints",
          "entity_type": "business_rule",
          "match_type": "semantic",
          "similarity_score": 0.5155602105789056,
          "relevant_attributes": []
        }
      ],
      "query_plan": {
        "primary_tables": [
          "customers_sample",
          "customers_sample"
        ],
        "required_joins": [],
        "select_columns": [
          "Index",
          "Customer Id",
          "First Name",
          "Last Name",
          "Company"
        ],
        "where_conditions": [],
        "aggregations": [],
        "order_by": [],
        "confidence_score": 0.8575479449206601,
        "alternative_plans_count": 2
      },
      "suggestions": []
    }
  ],
  "performance_summary": {
    "average_matching_time": 4.719141444500565,
    "average_matches_found": 10.0,
    "average_context_confidence": 0.6255555555555555,
    "average_plan_confidence": 0.8638051038711269
  }
}