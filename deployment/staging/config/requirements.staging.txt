# Staging Environment Dependencies - Optimized for MCP Server
# Keeps playwright, removes other heavy dependencies

# Core Web Framework
fastapi>=0.104.1
uvicorn[standard]>=0.24.0
pydantic>=2.5.0

# MCP Framework
mcp>=1.0.0

# Database & Persistence (streamlined)
supabase>=2.0.0
asyncpg>=0.29.0
psycopg[binary]>=3.0.0  # Lighter than psycopg2-binary
pgvector>=0.2.0

# Data Processing (replaced pandas with polars)
polars-lts-cpu>=0.20.0  # CPU-compatible version for Docker/Apple Silicon
pyarrow>=14.0.0  # Required for Parquet support in Polars
openpyxl>=3.1.0  # Required for Excel file support in Polars

# AI/LLM
openai>=1.0.0
tiktoken>=0.5.0
isa-model[cloud]  # Latest version with cloud support
isa-common>=0.1.8  # isA common gRPC clients with Consul support

# HTTP Clients
httpx>=0.25.2
aiohttp>=3.9.0
requests>=2.31.0

# Web Automation (KEPT - user requested)
playwright>=1.40.0
beautifulsoup4>=4.12.0

# Web scraping enhancements
protego>=0.3.0
readabilipy>=0.2.0
markdownify>=0.11.0

# Security and Auth (minimal)
cryptography>=41.0.0
PyJWT>=2.8.0

# Configuration
python-dotenv>=1.0.0
pyyaml>=6.0

# Monitoring and Logging
structlog>=23.2.0
python-logging-loki>=0.3.1
prometheus-client>=0.19.0

# Service Discovery
python-consul2>=0.1.5

# Utilities
click>=8.1.0
rich>=13.6.0
aiolimiter>=1.1.0

# ============================================
# REMOVED/REPLACED HEAVY DEPENDENCIES (save ~500MB+):
# ============================================
# - pandas, numpy (~200MB) - REPLACED with Polars (~50MB) for 5-10x performance
# - duckdb (~100MB) - Moved to isa-common service
# - neo4j (~50MB) - Use graph service when needed
# - PyMuPDF (~40MB) - Use intelligence service for PDFs
# - openpyxl (~30MB) - Use data service for Excel
# Composio - for integrating 300+ apps (Gmail, GitHub, Slack, etc.)
# NOTE: Using latest composio (not composio-core which is deprecated)
composio>=0.9.0
# - redis/hiredis (~20MB) - Use external Redis if needed
# - Pillow (~10MB) - Use intelligence service for images
# - SQLAlchemy (~20MB) - Using raw asyncpg instead
# - bcrypt/passlib (~10MB) - Minimal auth sufficient
# - sentry-sdk (~10MB) - Can add back if needed
# - minio (~10MB) - Use intelligence service for storage
# - grpcio-tools (~20MB) - Only need grpcio runtime (in isa-common)
#
# KEPT:
# - playwright (~300MB) - Required for web automation
#
# Total savings: ~500MB in dependencies!
