# ==================================
# Environment Configuration Template
# ==================================
# Copy this to deployment/{env}/.env and fill in your values
# Supported environments: development, test, staging, production

# ==================================
# SYSTEM CONFIGURATION
# ==================================
ENV="development"  # development|test|staging|production
PYTHONPATH="."
PYTHONUNBUFFERED="1"
DEBUG="false"
DB_SCHEMA=dev  # dev|test|staging|production

# Proxy bypass for local development
NO_PROXY="localhost,127.0.0.1,::1,0.0.0.0"
HTTP_PROXY=""
HTTPS_PROXY=""

# ==================================
# ISA SERVICE CONFIGURATION
# ==================================
ISA_API_URL="http://localhost:8082"
ISA_SERVICE_URL="http://localhost:8082"
ISA_API_KEY=""
REQUIRE_ISA_AUTH="false"

# ==================================
# AUTH SERVICE CONFIGURATION
# ==================================
AUTH_SERVICE_URL="http://localhost:8000"
AUTHZ_SERVICE_URL="http://localhost:8203"

# ==================================
# STORAGE SERVICE CONFIGURATION
# ==================================
STORAGE_CONSUL_HOST="localhost"
STORAGE_CONSUL_PORT="8500"
STORAGE_FALLBACK_HOST="localhost"
STORAGE_FALLBACK_PORT="8208"

# ==================================
# DATABASE CONFIGURATION
# ==================================
# Supabase Configuration (Local Development)
SUPABASE_LOCAL_URL="http://127.0.0.1:54321"
SUPABASE_LOCAL_ANON_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0"
SUPABASE_LOCAL_SERVICE_ROLE_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImV4cCI6MTk4MzgxMjk5Nn0.EGIM96RAZx35lJzdJsyH-qQwv8Hdp7fsn3W0YpN81IU"
SUPABASE_PWD="postgres"

# Supabase Configuration (Remote/Production)
# NEXT_PUBLIC_SUPABASE_URL="https://your-project.supabase.co"
# SUPABASE_SERVICE_ROLE_KEY="your-service-role-key"
# SUPABASE_ANON_KEY="your-anon-key"

# PostgreSQL Connection
DATABASE_URL="postgresql://postgres:postgres@127.0.0.1:54322/postgres?options=-c%20search_path%3Ddev"

# Neo4j Configuration (Optional - for Graph Analytics)
NEO4J_URI="bolt://localhost:7687"
NEO4J_USERNAME="neo4j"
NEO4J_PASSWORD="password"
NEO4J_DATABASE="neo4j"

# Neo4j Aura (for production)
# NEO4J_URI="neo4j+s://xxx.databases.neo4j.io"

# ==================================
# REDIS CONFIGURATION (Optional)
# ==================================
REDIS_HOST="localhost"
REDIS_PORT="6379"
REDIS_PASSWORD=""
REDIS_URL="redis://localhost:6379"

# ==================================
# CONSUL CONFIGURATION (Optional)
# ==================================
CONSUL_HOST="localhost"
CONSUL_PORT="8500"
SERVICE_HOST="localhost"

# ==================================
# GRAPH ANALYTICS CONFIGURATION
# ==================================
# LLM Configuration for Graph Analytics
GRAPH_MAX_TOKENS="4000"
GRAPH_TEMPERATURE="0.1"
GRAPH_DEFAULT_CONFIDENCE="0.8"

# Text Processing Configuration
GRAPH_LONG_TEXT_THRESHOLD="50000"
GRAPH_CHUNK_SIZE="100000"
GRAPH_CHUNK_OVERLAP="5000"

# Processing Configuration
GRAPH_MAX_CONCURRENT="5"
GRAPH_BATCH_SIZE="10"

# Similarity and Search Configuration
GRAPH_SIMILARITY_THRESHOLD="0.7"
GRAPH_EMBEDDING_DIMENSION="1536"

# Performance and Logging
GRAPH_DEBUG="false"
GRAPH_PERF_LOG="true"
GRAPH_SLOW_THRESHOLD="5.0"
GRAPH_MAX_RETRIES="3"
GRAPH_RETRY_DELAY="1.0"
GRAPH_ENABLE_FALLBACK="true"

# ==================================
# SECURITY CONFIGURATION
# ==================================
# JWT Secret for service-to-service communication
JWT_SECRET_KEY="your-super-secret-jwt-key-here-change-in-production"
ENCRYPTION_KEY="your-32-character-encryption-key"

# MCP API Authentication
MCP_API_KEY="mcp_your-api-key-here"
REQUIRE_MCP_AUTH="true"

# ==================================
# SERVICE PORTS
# ==================================
MCP_PORT="8081"
USER_SERVICE_PORT="8100"
EVENT_SERVICE_PORT="8101"

# ==================================
# APPLICATION SETTINGS
# ==================================
LOG_LEVEL="WARNING"
REQUIRE_AUTH="true"
RATE_LIMIT_PER_HOUR="1000"
MAX_WORKERS="4"

# ==================================
# STARTUP OPTIMIZATION
# ==================================
# Background loading for faster startup
# Synchronous mode: ~70s startup, all features ready immediately
# Background mode: ~10s startup, features load in background
LAZY_LOAD_AI_SELECTORS="false"  # Set to "true" for fast startup
LAZY_LOAD_EXTERNAL_SERVICES="false"  # Set to "true" for fast startup

# ==================================
# EXTERNAL API KEYS
# ==================================
# HuggingFace
HF_TOKEN=""

# Brave Search
BRAVE_TOKEN=""

# Composio (300+ app integrations)
COMPOSIO_API_KEY=""
COMPOSIO_TELEMETRY="false"  # Disable telemetry to prevent timeout errors

# ==================================
# E-COMMERCE INTEGRATIONS (Optional)
# ==================================
SHOPIFY_STORE_DOMAIN="your-store.myshopify.com"
SHOPIFY_STOREFRONT_ACCESS_TOKEN="your-storefront-token"
SHOPIFY_ADMIN_API_KEY="shpat_your-admin-key"

# ==================================
# FILE STORAGE CONFIGURATION
# ==================================
# Storage provider: "minio" for local, "s3" for production
STORAGE_PROVIDER="minio"

# MinIO Configuration (Local Development)
MINIO_ENDPOINT="localhost:9000"
MINIO_ACCESS_KEY="minioadmin"
MINIO_SECRET_KEY="minioadmin"
MINIO_SECURE="false"
MINIO_BUCKET="user-files"

# AWS S3 Configuration (Production)
AWS_ACCESS_KEY_ID=""
AWS_SECRET_ACCESS_KEY=""
AWS_REGION="us-east-1"
S3_BUCKET="user-files-prod"

# File Upload Settings (50MB max)
UPLOAD_MAX_SIZE="52428800"
UPLOAD_ALLOWED_TYPES="application/pdf,text/csv,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,image/jpeg,image/png,text/plain"

# ==================================
# EMAIL CONFIGURATION
# ==================================
# Resend API (for invitation emails)
RESEND_API_KEY=""

# ==================================
# HARDWARE SDK CONFIGURATION
# ==================================
# Disable hardware auto-scan for HTTP-only communication
HARDWARE_AUTO_SCAN="false"

# ==================================
# MONITORING & OBSERVABILITY (Optional)
# ==================================
SENTRY_DSN=""
DATADOG_API_KEY=""

# ==================================
# CENTRALIZED LOGGING (LOKI)
# ==================================
# Loki Configuration for centralized log aggregation
LOKI_URL=http://localhost:3100        # Loki server URL
LOKI_ENABLED=false                     # Set to "true" for centralized logging
SERVICE_NAME=mcp                       # Service name for Loki labels
LOG_LEVEL=INFO                         # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_STRUCTURED=false                   # Set to "true" for JSON structured logs
LOG_FILE=logs/mcp_server.log           # Used only when LOKI_ENABLED=false
